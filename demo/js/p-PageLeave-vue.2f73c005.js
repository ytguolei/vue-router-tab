(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["p-PageLeave-vue"],{1874:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[e._v("你在 "),a("strong",{staticClass:"text-strong"},[e._v(e._s(e.pageTime))]),e._v(" 秒前打开本页面")])},i=[],r={name:"PageTimer",data:function(){return{openTime:new Date,pageTime:0}},activated:function(){this.updatePageTime()},deactivated:function(){this.clearPageTimer()},beforeDestroy:function(){this.clearPageTimer()},methods:{calcPageTime:function(){this.pageTime=Math.floor((new Date-this.openTime)/1e3)},updatePageTime:function(){this.calcPageTime(),this.clearPageTimer(),this.pageTimer=setInterval(this.calcPageTime,1e3)},clearPageTimer:function(){clearInterval(this.pageTimer)}}},c=r,s=a("2877"),o=Object(s["a"])(c,n,i,!1,null,null,null);t["a"]=o.exports},"5e6b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("页面离开确认")]),a("page-timer"),e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.editValue,expression:"editValue"}],attrs:{type:"text"},domProps:{value:e.editValue},on:{input:function(t){t.target.composing||(e.editValue=t.target.value)}}}),a("p",[a("a",{staticClass:"demo-btn",on:{click:function(t){return e.$routerTab.refresh(null,!0,!1)}}},[e._v("刷新")]),a("a",{staticClass:"demo-btn",on:{click:function(t){return e.$routerTab.close({force:!1})}}},[e._v("关闭")]),a("router-link",{staticClass:"demo-btn",attrs:{to:"?id="+(+(this.$route.query.id||0)+1)}},[e._v(" 替换 ")])],1)],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("strong",{staticClass:"text-strong"},[e._v("修改输入框的值")]),e._v("后，页面在页签关闭/刷新/被替换时将会确认提示 ")])}],r=(a("99af"),a("1874")),c={name:"PageLeave",components:{PageTimer:r["a"]},data:function(){var e="初始值";return{value:e,editValue:e}},beforePageLeave:function(e,t,a,n){var i={close:"关闭",refresh:"刷新",replace:"替换"}[n],r="您确认要".concat(i,"页签“").concat(a.title,"”吗？");this.editValue!==this.value?confirm(r)?e():t("拒绝了页面离开"):e()}},s=c,o=a("2877"),l=Object(o["a"])(s,n,i,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=p-PageLeave-vue.2f73c005.js.map